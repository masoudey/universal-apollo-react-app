{"version":3,"sources":["webpack:///./shared/containers/auth/signIn.js","webpack:///./shared/hooks/useFormInput.js"],"names":["Cookies","SIGNIN_USER","gql","initialState","email","password","SignInn","props","isInvalid","class","SignIn","onChange","e","target","name","value","setState","onSubmit","signIn","preventDefault","then","data","set","token","refetch","history","push","catch","error","graphQLErrors","map","x","message","console","validationForm","state","loading","Component","useFormInput","initialValue","setValue","handleChange"],"mappings":"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","file":"2.bundle.js","sourcesContent":["import React, { Component, Fragment, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport * as Cookies from \"es-cookie\";\n\nimport { Helmet } from \"react-helmet\";\nimport useFormInput from \"../../hooks/useFormInput\";\n\nexport const SIGNIN_USER = gql`\n    mutation($email: String!, $password: String!) {\n        signIn(email: $email, password: $password) {\n            token\n            user\n        }\n    }\n`;\n\nconst initialState = {\n    email: '',\n    password: '',\n}\n\nfunction SignInn(props) {\n    const email = useFormInput('');\n    const password = useFormInput('');\n\n    const isInvalid = !email || !password;\n\n\n    return (\n        <Fragment>\n            <Helmet bodyAttributes={{ class: 'signIn'}}>\n                <title>LogIn - Apollo React App</title>\n            </Helmet>\n        </Fragment>\n    )\n}\n\n\n\nclass SignIn extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ...initialState\n        }\n    }\n\n    head() {\n        return (\n            <Helmet bodyAttributes={{ class: 'signIn'}}>\n                <title>LogIn - Apollo React App</title>\n            </Helmet>\n        )\n    }\n\n    onChange = e => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    onSubmit = (e, signIn) => {\n        e.preventDefault();\n        signIn().then(async ({ data }) => {\n            this.setState({ ...initialState });\n\n            Cookies.set('token', data.signIn.token);\n\n            await this.props.refetch();\n\n            this.props.history.push('/dashboard');\n        }).catch(error => {\n            this.setState({\n                error: error.graphQLErrors.map(x => x.message)\n            });\n            console.error(\"ERR -\", error.graphQLErrors.map(x => x.message));\n        });\n    }\n\n    validationForm = () => {\n        const { email, password } = this.state;\n        const isInvalid = !email || !password;\n        return isInvalid;\n    }\n\n    render() {\n        const { email, password } = this.state;\n        return (\n            <Fragment>\n                <div class=\"login-wrapper\">\n                    <div class=\"logo ir\" />\n                    <span class=\"title\">Login</span>\n                    <Mutation \n                        mutation={SIGNIN_USER} \n                        variables={{ email, password}}\n                    >\n                    {(signIn, { data, loading, error}) => {\n                        return (\n                            <form name=\"form\" onSubmit={e => this.onSubmit(e, signIn)}>\n                                <fieldset>\n                                <div class=\"inputrow\">\n                                    <i class=\"fa icon-user fa-fw\" />\n                                    <input\n                                    type=\"text\"\n                                    name=\"email\"\n                                    id=\"user\"\n                                    placeholder=\"Email\"\n                                    onChange={this.onChange}\n                                    value={email}\n                                    autoFocus\n                                    required\n                                    />\n                                </div>\n                                <div class=\"inputrow\">\n                                    <i class=\"fa icon-key fa-fw\" />\n                                    <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    id=\"password\"\n                                    data-typetoggle=\"#show\"\n                                    onChange={this.onChange}\n                                    value={password}\n                                    placeholder=\"Password\"\n                                    required\n                                    />\n                                </div>\n\n                                <div class=\"remember\">\n                                    <input\n                                    type=\"checkbox\"\n                                    name=\"remember_login\"\n                                    value=\"1\"\n                                    id=\"remember_login\"\n                                    />\n                                    <label for=\"remember_login\" class=\"radio\">\n                                    Remember me\n                                    </label>\n                                </div>\n                                <div class=\"button-center\">\n                                    <button class=\"btn-log\" type=\"submit\" id=\"submit\">\n                                    SignIn\n                                    </button>\n                                    {loading && (\n                                    <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                    )}\n                                </div>\n                                </fieldset>\n                            </form>\n                        )\n                    }}\n                    </Mutation>\n                </div>\n            </Fragment>\n        )\n    }\n};\n\nexport default withRouter(SignIn);","import { useState } from \"react\";\n\nexport default function useFormInput(initialValue) {\n    const [value, setValue] = useState(initialValue);\n\n    function handleChange(e) {\n        setValue(e.target.value);\n    };\n\n    return {\n        value,\n        onChange: handleChange,\n    };\n}"],"sourceRoot":""}