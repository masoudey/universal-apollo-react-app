{"version":3,"sources":["webpack:///./shared/containers/auth/signUp.js","webpack:///./shared/hooks/useFormInput.js"],"names":["Cookies","SIGNUP_USER","gql","initialState","username","email","password","passwordConfirm","firstName","lastName","passwordMatch","error","SignUpp","props","data","isInvalid","class","SignUp","onChange","e","target","name","value","setState","handleSubmit","signUp","client","preventDefault","console","log","then","set","token","refresh","history","push","catch","confirmPW","state","isMatch","validateForm","userName","head","cache","loading","Component","useFormInput","initialValue","setValue","handleChange"],"mappings":"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","file":"1.bundle.js","sourcesContent":["import React, { Component, useContext } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Mutation, Query } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport * as Cookies from \"es-cookie\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport useFormInput from \"../../hooks/useFormInput\";\r\n\r\n\r\nexport const SIGNUP_USER = gql`\r\n    mutation($username: String!, $email: String!, $password: String!, $firstName: String!, $lastName: String!, $profileImage: String) {\r\n        signUp(username: $username, email: $email, password: $password, firstName: $firstName, lastName: $lastName, profileImage:$profileImage) {\r\n            token\r\n            user\r\n        }\r\n    }\r\n`;\r\n\r\nconst initialState = {\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    passwordMatch: '',\r\n    error: ''\r\n}\r\n\r\nfunction SignUpp(props) {\r\n    const username = useFormInput('');\r\n    const email = useFormInput('');\r\n    const password = useFormInput('');\r\n    const passwordConfirm = useFormInput('');\r\n    const firstName = useFormInput('');\r\n    const lastName = useFormInput('');\r\n\r\n    const { data } = useContext();\r\n    \r\n    const passwordMatch = password !== passwordConfirm;\r\n    const isInvalid = !firstName || !lastName || !email || !username || !password || password !== passwordConfirm\r\n\r\n    return (\r\n        <div class=\"login-wrapper\" >\r\n            <Helmet bodyAttributes={{ class: 'signUp'}}>\r\n                <title>Join now - Apollo React App</title>\r\n            </Helmet>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass SignUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...initialState\r\n        }\r\n    }\r\n\r\n    head() {\r\n        return (\r\n            <Helmet bodyAttributes={{ class: 'signUp'}}>\r\n                <title>Join now - Apollo React App</title>\r\n            </Helmet>\r\n        )\r\n    }\r\n\r\n    onChange = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    handleSubmit = (e, signUp, client) => {\r\n        e.preventDefault();\r\n        console.log(client);\r\n        signUp().then(async ({ data }) => {\r\n           Cookies.set('token', data.signUp.token);\r\n           await this.props.refresh();\r\n           this.setState({ ...initialState });\r\n           this.props.history.push('/');\r\n        }).catch(error => {\r\n            this.setState({\r\n                error: 'Either your email or username is already taken'\r\n            });\r\n        });\r\n    }\r\n\r\n    confirmPW = () => {\r\n        const { password, passwordConfirm } = this.state;\r\n        const isMatch = password !== passwordConfirm;\r\n        this.setState({\r\n            passwordMatch: isMatch\r\n        });\r\n    }\r\n\r\n    validateForm = () => {\r\n        const { firstName, lastName, email, userName, password, passwordConfirm } = this.state\r\n        const isInvalid = !firstName || !lastName || !email || !userName || !password || password !== passwordConfirm\r\n        return isInvalid;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            password,\r\n            passwordConfirm,\r\n            firstName,\r\n            lastName,\r\n            passwordMatch\r\n        } = this.state;\r\n\r\n        return (\r\n            <div class=\"login-wrapper\">\r\n                {this.head()}\r\n                <span class=\"title\">SignUp</span>\r\n                <Mutation \r\n                mutation={SIGNUP_USER} \r\n                variables={{username, email, password, firstName, lastName}} \r\n                update={(cache, { data }) => {\r\n                    console.log(\"data\", data);\r\n                    console.log(\"cache\", cache);\r\n                }}\r\n                >\r\n                    {(signUp, {data, client, loading, error}) => {\r\n                        return(\r\n                            <form name=\"form\" onSubmit={e => this.handleSubmit(e, signUp, client)}>\r\n                                <fieldset>\r\n                                    \r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-user fa-fw\" />\r\n                                        <input\r\n                                        type=\"text\"\r\n                                        name=\"username\"\r\n                                        id=\"username\"\r\n                                        placeholder=\"UserName\"\r\n                                        onChange={this.onChange}\r\n                                        onBlur={this.validateForm}\r\n                                        value={username}\r\n                                        autoFocus\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-user fa-fw\" />\r\n                                        <input\r\n                                        type=\"text\"\r\n                                        name=\"firstName\"\r\n                                        id=\"firstName\"\r\n                                        placeholder=\"FirstName\"\r\n                                        onChange={this.onChange}\r\n                                        value={firstName}\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-user fa-fw\" />\r\n                                        <input\r\n                                        type=\"text\"\r\n                                        name=\"lastName\"\r\n                                        id=\"lastName\"\r\n                                        placeholder=\"LastName\"\r\n                                        onChange={this.onChange}\r\n                                        value={lastName}\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-mail4 fa-fw\" />\r\n                                        <input\r\n                                        type=\"email\"\r\n                                        name=\"email\"\r\n                                        id=\"email\"\r\n                                        placeholder=\"Email\"\r\n                                        onChange={this.onChange}\r\n                                        value={email}\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-key fa-fw\" />\r\n                                        <input\r\n                                        type=\"password\"\r\n                                        name=\"password\"\r\n                                        id=\"password\"\r\n                                        data-typetoggle=\"#show\"\r\n                                        onChange={this.onChange}\r\n                                        value={password}\r\n                                        placeholder=\"Password\"\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n                                    <div class=\"inputrow\">\r\n                                        <i class=\"fa icon-key fa-fw\" />\r\n                                        <input\r\n                                        type=\"password\"\r\n                                        name=\"passwordConfirm\"\r\n                                        id=\"passwordConfirm\"\r\n                                        data-typetoggle=\"#show\"\r\n                                        onChange={this.onChange}\r\n                                        onBlur={this.confirmPW}\r\n                                        value={passwordConfirm}\r\n                                        placeholder=\"Confirm Password\"\r\n                                        required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    \r\n                                    <div class=\"button-center\">\r\n                                        <button class=\"btn-log\" type=\"submit\" id=\"submit\" disabled={passwordMatch || this.validateForm()} >\r\n                                        Register\r\n                                        </button>\r\n                                        {loading && (\r\n                                        <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                                        )}\r\n                                    </div>\r\n                                </fieldset>\r\n                            </form>\r\n                        )\r\n                    }}\r\n                </Mutation>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SignUp)","import { useState } from \"react\";\r\n\r\nexport default function useFormInput(initialValue) {\r\n    const [value, setValue] = useState(initialValue);\r\n\r\n    function handleChange(e) {\r\n        setValue(e.target.value);\r\n    };\r\n\r\n    return {\r\n        value,\r\n        onChange: handleChange,\r\n    };\r\n}"],"sourceRoot":""}